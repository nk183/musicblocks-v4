{"version":3,"sources":["components/painter/view/components/index.tsx","components/painter/view/components/utils/background.ts","components/painter/view/index.ts","components/painter/view/sprite.ts","components/painter/view/resources/mouse.svg","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/painter/core/sketchP5.ts","components/painter/core/utils.ts","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","components/painter/painter.ts"],"names":["_artboard","_artboardBackground","_interactor","_mountedCallback","Painter","backgroundRef","useRef","artboardRef","artboardBackgroundRef","interactorRef","useEffect","current","setupCartesian","id","ref","className","setup","container","Promise","resolve","ReactDOM","render","requestAnimationFrame","artboard","artboardBackground","interactor","getBoundingClientRect","width","height","p5","p","createCanvas","noLoop","delta","piecesVer","Math","floor","piecesHor","stroke","strokeWeight","i","line","_artboardSketch","mount","createItem","location","setupComponent","then","setupSprite","mountSketch","sketch","sketchCanvas","children","style","position","left","transform","updateBackgroundColor","type","color","backgroundColor","r","g","b","_sprite","_spriteSVG","_spriteSrc","mouseSVG","spriteWrapper","document","createElement","classList","add","bottom","appendChild","fetch","res","text","svg","innerHTML","spriteElem","updatePosition","x","y","updateHeading","heading","updateAccent","fill","querySelectorAll","forEach","item","setAttribute","remove","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","arguments","length","source","getOwnPropertyDescriptors","defineProperties","translate","angleMode","DEGREES","scale","drawLine","x1","y1","x2","y2","drawPoint","point","drawArc","w","h","start","stop","noFill","arc","OPEN","drawBezier","x3","y3","x4","y4","bezier","setFillOn","v1","v2","v3","setFillOff","setColor","setThickness","setBackground","background","clear","radToDeg","radians","PI","degToRad","degrees","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","_getPrototypeOf","getPrototypeOf","_typeof","_possibleConstructorReturn","self","call","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","result","Super","NewTarget","this","_defaultStateValues","drawing","_stateObj","_state","set","_","_colorMap","sketchP5","_move","distance","cos","sin","_turn","angle","reset","run","ElementMoveForward","steps","params","ElementStatement","ElementMoveBackward","ElementTurnRight","ElementTurnLeft","ElementSetXY","ElementSetHeading","ElementDrawArc","radius","direction","sign","theta","xCentre","yCentre","startAngle","stopAngle","ElementSetColor","ElementSetThickness","ElementPenUp","ElementPenDown","ElementSetBackground","ElementClear"],"mappings":"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","file":"static/js/1.7dfe418b.chunk.js","sourcesContent":["import { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { setupCartesian } from './utils/background';\n\n// -- stylesheet -----------------------------------------------------------------------------------\n\nimport './index.scss';\n\n// -- private variables ----------------------------------------------------------------------------\n\nlet _artboard: HTMLDivElement;\nlet _artboardBackground: HTMLDivElement;\nlet _interactor: HTMLDivElement;\n\nlet _mountedCallback: CallableFunction;\n\n// -- component definition -------------------------------------------------------------------------\n\n/**\n * Painter component.\n * @returns root JSX element of the Painter component\n */\nfunction Painter(): JSX.Element {\n  const backgroundRef = useRef(null);\n  const artboardRef = useRef(null);\n  const artboardBackgroundRef = useRef(null);\n  const interactorRef = useRef(null);\n\n  useEffect(() => {\n    _artboard = artboardRef.current!;\n    _artboardBackground = artboardBackgroundRef.current!;\n    _interactor = interactorRef.current!;\n\n    _mountedCallback();\n\n    setupCartesian(backgroundRef.current!);\n  }, []);\n\n  return (\n    <>\n      <section id=\"artboard-wrapper\">\n        <div id=\"artboard-background\" ref={backgroundRef}></div>\n        <div id=\"artboard-container\">\n          <div className=\"artboard\" ref={artboardRef}></div>\n          <div className=\"artboard-background\" ref={artboardBackgroundRef}></div>\n        </div>\n        <div id=\"artboard-interactor\" ref={interactorRef}></div>\n      </section>\n    </>\n  );\n}\n\n/**\n * Mounts the React component inside the DOM container.\n * @param container DOM container\n * @returns a `Promise` of an object containing the DOM artboard and interactor elements\n */\nexport function setup(container: HTMLElement): Promise<{\n  artboard: HTMLDivElement;\n  artboardBackground: HTMLDivElement;\n  interactor: HTMLDivElement;\n}> {\n  return new Promise((resolve) => {\n    ReactDOM.render(<Painter />, container);\n\n    _mountedCallback = () =>\n      requestAnimationFrame(() => {\n        resolve({\n          artboard: _artboard,\n          artboardBackground: _artboardBackground,\n          interactor: _interactor,\n        });\n      });\n  });\n}\n","import p5 from 'p5';\n\n/**\n * Sets up a canvas with a cartesian grid.\n * @param container DOM container of the grid\n */\nexport function setupCartesian(container: HTMLElement): void {\n    const { width, height } = container.getBoundingClientRect();\n\n    new p5((p: p5) => {\n        p.setup = () => {\n            p.createCanvas(width, height);\n            p.noLoop();\n\n            let delta = 10;\n            let piecesVer = Math.floor((p.width >> 1) / delta);\n            let piecesHor = Math.floor((p.height >> 1) / delta);\n\n            p.stroke(252, 252, 252);\n            p.strokeWeight(1);\n            for (let i = 1; i <= piecesVer; i++) {\n                p.line((p.width >> 1) + i * delta, 0, (p.width >> 1) + i * delta, p.height);\n                p.line((p.width >> 1) - i * delta, 0, (p.width >> 1) - i * delta, p.height);\n            }\n            for (let i = 1; i <= piecesHor; i++) {\n                p.line(0, (p.height >> 1) + i * delta, p.width, (p.height >> 1) + i * delta);\n                p.line(0, (p.height >> 1) - i * delta, p.width, (p.height >> 1) - i * delta);\n            }\n\n            delta = 100;\n            piecesVer = Math.floor((p.width >> 1) / delta);\n            piecesHor = Math.floor((p.height >> 1) / delta);\n\n            p.stroke(244, 244, 244);\n            p.strokeWeight(1);\n            for (let i = 1; i <= piecesVer; i++) {\n                p.line((p.width >> 1) + i * delta, 0, (p.width >> 1) + i * delta, p.height);\n                p.line((p.width >> 1) - i * delta, 0, (p.width >> 1) - i * delta, p.height);\n            }\n            for (let i = 1; i <= piecesHor; i++) {\n                p.line(0, (p.height >> 1) + i * delta, p.width, (p.height >> 1) + i * delta);\n                p.line(0, (p.height >> 1) - i * delta, p.width, (p.height >> 1) - i * delta);\n            }\n\n            p.stroke(240, 240, 240);\n            p.strokeWeight(2);\n            p.line(p.width >> 1, 0, p.width >> 1, p.height);\n            p.line(0, p.height >> 1, p.width, p.height >> 1);\n        };\n    }, container);\n}\n","import { ISketch } from '../@types';\n\nimport { createItem } from '@/view';\nimport { setup as setupComponent } from './components';\nimport { setup as setupSprite } from './sprite';\n\n// -- private variables ----------------------------------------------------------------------------\n\nlet _artboardSketch: HTMLElement;\nlet _artboardBackground: HTMLElement;\n\n// -- public functions -----------------------------------------------------------------------------\n\n/**\n * Initializes the Painter DOM.\n */\nexport function mount(): Promise<void> {\n    return new Promise((resolve) => {\n        const container = createItem({ location: 'workspace' });\n        container.id = 'painter';\n\n        setupComponent(container).then(({ artboard, artboardBackground, interactor }) => {\n            _artboardSketch = artboard;\n            _artboardBackground = artboardBackground;\n            setupSprite(interactor);\n\n            resolve();\n        });\n    });\n}\n\n/**\n * Mounts the sketch canvas inside the artboard.\n * @param sketch sketch instance\n */\nexport function mountSketch(sketch: ISketch): Promise<void> {\n    return new Promise((resolve) => {\n        sketch.setup(_artboardSketch!);\n\n        requestAnimationFrame(() => {\n            const sketchCanvas = _artboardSketch.children[0] as HTMLCanvasElement;\n            sketchCanvas.style.position = 'absolute';\n            sketchCanvas.style.left = '50%';\n            sketchCanvas.style.transform = 'translateX(-50%)';\n\n            resolve();\n        });\n    });\n}\n\n/**\n * Removes the artboard container's background color.\n */\nexport function updateBackgroundColor(type: 'unset'): void;\n/**\n * Sets the artboard container's background color.\n * @param color background color\n */\nexport function updateBackgroundColor(type: 'set', color: [number, number, number]): void;\n/**\n * Updates the artboard container's background color.\n * @param type `set` to set background color, `unset` to remove background color\n * @param color background color\n */\nexport function updateBackgroundColor(\n    type: 'set' | 'unset',\n    color?: [number, number, number],\n): void {\n    if (type === 'unset') {\n        _artboardBackground.style.backgroundColor = 'unset';\n    } else {\n        const [r, g, b] = color!;\n        _artboardBackground.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;\n    }\n}\n","import mouseSVG from './resources/mouse.svg';\n\n// -- private variables ----------------------------------------------------------------------------\n\n/** Source URL of the sprite's SVG. */\nconst _spriteSrc = mouseSVG;\n\n/** DOM element representing the sprite wrapper. */\nlet _sprite: HTMLElement;\n/** SVG element of the sprite. */\nlet _spriteSVG: SVGElement;\n\n// -- public functions -----------------------------------------------------------------------------\n\n/**\n * Initializes the sprite.\n * @param interactor - DOM container for the interactor (wrapper for the sprite)\n */\nexport function setup(interactor: HTMLElement): void {\n    const spriteWrapper = document.createElement('div');\n    spriteWrapper.classList.add('artboard-sprite-wrapper');\n    spriteWrapper.style.left = '50%';\n    spriteWrapper.style.bottom = '50%';\n    spriteWrapper.style.transform = 'translate(-50%, 50%)';\n    interactor.appendChild(spriteWrapper);\n\n    _sprite = spriteWrapper;\n\n    // fetches the SVG source string from the .svg source file's URL\n    fetch(_spriteSrc)\n        .then((res) => res.text())\n        .then((svg) => {\n            spriteWrapper.innerHTML = svg;\n\n            const spriteElem = spriteWrapper.children[0] as SVGElement;\n            spriteElem.classList.add('artboard-sprite');\n\n            _spriteSVG = spriteElem;\n        });\n}\n\n/**\n * Updates the position of the sprite.\n * @param x - x co-ordinate\n * @param y - y co-ordinate\n */\nexport function updatePosition(x: number, y: number): void {\n    _sprite.style.left = `calc(50% + ${x}px)`;\n    _sprite.style.bottom = `calc(50% + ${y}px)`;\n}\n\n/**\n * Updates the heading of the sprite.\n * @param heading - heading anglestate\n */\nexport function updateHeading(heading: number): void {\n    _sprite.style.transform = `translate(-50%, 50%) rotate(${-heading}deg)`;\n}\n\n/**\n * Defaults the color accent of the sprite.\n */\nexport function updateAccent(type: 'unset'): void;\n/**\n * Sets the color accent of the sprite.\n * @param fill fill color\n * @param stroke stroke color\n */\nexport function updateAccent(type: 'set', fill: string, stroke: string): void;\nexport function updateAccent(type: 'set' | 'unset', fill?: string, stroke?: string): void {\n    if (type === 'unset') {\n        _spriteSVG.querySelectorAll('.path-fill').forEach((item) => {\n            item.classList.add('path-fill-default');\n            item.setAttribute('fill', '');\n        });\n        _spriteSVG.querySelectorAll('.path-stroke').forEach((item) => {\n            item.classList.add('path-stroke-default');\n            item.setAttribute('stroke', '');\n        });\n        _spriteSVG.querySelectorAll('.path-fill-stroke').forEach((item) => {\n            item.classList.add('path-fill-stroke-default');\n            item.setAttribute('fill', '');\n            item.setAttribute('stroke', '');\n        });\n        return;\n    }\n\n    _spriteSVG.querySelectorAll('.path-fill').forEach((item) => {\n        item.classList.remove('path-fill-default');\n        item.setAttribute('fill', fill!);\n    });\n    _spriteSVG.querySelectorAll('.path-stroke').forEach((item) => {\n        item.classList.remove('path-stroke-default');\n        item.setAttribute('stroke', stroke!);\n    });\n    _spriteSVG.querySelectorAll('.path-fill-stroke').forEach((item) => {\n        item.classList.remove('path-fill-stroke-default');\n        item.setAttribute('fill', stroke!);\n        item.setAttribute('stroke', stroke!);\n    });\n}\n","export default __webpack_public_path__ + \"static/media/mouse.19733222.svg\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import p5 from 'p5';\n\n// -------------------------------------------------------------------------------------------------\n\n/** p5 sketch instance. */\nlet sketch: p5;\n\n/**\n * Initializes a p5 instance and sets it up inside provided DOM element.\n * @param container - DOM element which will contain the p5 canvas.\n */\nexport function setup(container: HTMLElement): void {\n    const { width, height } = container.getBoundingClientRect();\n\n    new p5((p: p5) => {\n        sketch = p;\n\n        p.setup = () => {\n            p.createCanvas(width, height);\n            p.noLoop();\n            p.translate(p.width / 2, p.height / 2);\n            p.angleMode(p.DEGREES);\n            p.scale(1, -1);\n        };\n    }, container);\n}\n\n/**\n * Draws a straight line.\n * @param x1 - x co-ordinate of point 1\n * @param y1 - y co-ordinate of point 1\n * @param x2 - x co-ordinate of point 2\n * @param y2 - y co-ordinate of point 2\n */\nexport function drawLine(x1: number, y1: number, x2: number, y2: number): void {\n    sketch.line(x1, y1, x2, y2);\n}\n\n/**\n * Draws a point.\n * @param x - x co-ordinate of the point\n * @param y - y co-ordinate of the point\n */\nexport function drawPoint(x: number, y: number): void {\n    sketch.point(x, y);\n}\n\n/**\n * Draws an arc.\n * @param x - x co-ordinate of arc's ellipse\n * @param y - y co-ordinate of arc's ellipse\n * @param w - width of arc's ellipse\n * @param h - height of arc's ellipse\n * @param start - angle to start the arc - in Radians\n * @param stop - angle to stop the arc - in Radians\n */\nexport function drawArc(\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    start: number,\n    stop: number,\n): void {\n    sketch.noFill();\n    sketch.arc(x, y, w, h, start, stop, sketch.OPEN);\n}\n\n/**\n * Draws a bezier curve.\n * @param x1 - x co-ordinate of anchor point 1\n * @param y1 - y co-ordinate of anchor point 1\n * @param x2 - x co-ordinate of control point 1\n * @param y2 - y co-ordinate of control point 1\n * @param x3 - x co-ordinate of control point 2\n * @param y3 - y co-ordinate of control point 2\n * @param x4 - x co-ordinate of anchor point 2\n * @param y4 - y co-ordinate of anchor point 2\n */\nexport function drawBezier(\n    x1: number,\n    y1: number,\n    x2: number,\n    y2: number,\n    x3: number,\n    y3: number,\n    x4: number,\n    y4: number,\n): void {\n    sketch.bezier(x1, y1, x2, y2, x3, y3, x4, y4);\n}\n\n/**\n * Sets fill color.\n * @param value - greyscale value\n */\nexport function setFillOn(value: number): void;\n/**\n * Sets fill color.\n * @param v1 - red channel value\n * @param v2 - green channel value\n * @param v3 - blue channel value\n */\nexport function setFillOn(v1: number, v2?: number, v3?: number): void;\nexport function setFillOn(v1: number, v2?: number, v3?: number): void {\n    if (typeof v2 === 'number' && typeof v3 === 'number') {\n        sketch.fill(v1, v2, v3);\n    } else {\n        sketch.fill(v1);\n    }\n}\n\n/**\n * Clears the fill color.\n */\nexport function setFillOff(): void {\n    sketch.noFill();\n}\n\n/**\n * Sets drawing color.\n * @param value - greyscale value\n */\nexport function setColor(value: number): void;\n/**\n * Sets drawing color.\n * @param v1 - red channel value\n * @param v2 - green channel value\n * @param v3 - blue channel value\n */\nexport function setColor(v1: number, v2?: number, v3?: number): void;\nexport function setColor(v1: number, v2?: number, v3?: number): void {\n    if (typeof v2 === 'number' && typeof v3 === 'number') {\n        sketch.stroke(v1, v2, v3);\n    } else {\n        sketch.stroke(v1);\n    }\n}\n\n/**\n * Sets drawing thickness.\n * @param value - thickness\n */\nexport function setThickness(value: number): void {\n    sketch.strokeWeight(value);\n}\n\n/**\n * Sets background color.\n * @param value - greyscale value\n */\nexport function setBackground(value: number): void;\n/**\n * Sets background color.\n * @param v1 - red channel value\n * @param v2 - green channel value\n * @param v3 - blue channel value\n */\nexport function setBackground(v1: number, v2?: number, v3?: number): void;\nexport function setBackground(v1: number, v2?: number, v3?: number): void {\n    if (typeof v2 === 'number' && typeof v3 === 'number') {\n        sketch.background(v1, v2, v3);\n    } else {\n        sketch.background(v1);\n    }\n}\n\n/**\n * Clears the canvas.\n */\nexport function clear(): void {\n    sketch.clear();\n}\n","/**\n * Converts value in radians to degrees.\n * @param radians - value in radians\n * @returns value in degrees\n */\nexport function radToDeg(radians: number): number {\n    return (radians / Math.PI) * 180;\n}\n\n/**\n * Converts value in degrees to radians.\n * @param degrees - value in degrees\n * @returns value in radians\n */\nexport function degToRad(degrees: number): number {\n    return (degrees / 180) * Math.PI;\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import { ISketch } from './@types';\n\nimport * as sketchP5 from './core/sketchP5';\nimport { updatePosition, updateHeading } from './view/sprite';\nimport { updateBackgroundColor } from './view';\n\nimport { degToRad } from './core/utils';\n\n// -- private variables ----------------------------------------------------------------------------\n\n/** Default state parameter values of the sprite. */\nconst _defaultStateValues = {\n    position: {\n        x: 0,\n        y: 0,\n    },\n    heading: 90,\n    drawing: true,\n};\n\n/** Sprite state parameters. */\nconst _stateObj = { ..._defaultStateValues };\n\n/** Proxy to the sprite state parameters. */\nconst _state = new Proxy(_stateObj, {\n    set: (_, key, value) => {\n        if (key === 'position') {\n            _stateObj.position = value;\n            updatePosition(value.x, value.y);\n        } else if (key === 'heading') {\n            _stateObj.heading = (value + 360) % 360;\n            updateHeading((value + 360 - 90) % 360);\n        } else if (key === 'drawing') {\n            _stateObj.drawing = value;\n        }\n        return true;\n    },\n});\n\nconst _colorMap: [number, number, number][] = [\n    [255, 241, 0],\n    [255, 140, 0],\n    [232, 17, 35],\n    [236, 0, 140],\n    [104, 33, 122],\n    [0, 24, 143],\n    [0, 188, 242],\n    [0, 178, 148],\n    [0, 158, 73],\n    [186, 216, 10],\n];\n\n// -- public variables -----------------------------------------------------------------------------\n\n/** Artboard canvas object. */\nexport const sketch: ISketch = sketchP5;\n\n// -- private functions ----------------------------------------------------------------------------\n\n/**\n * Helper function that moves the sprite forward (+ve distance) or backward (-ve distance).\n * @param distance - distance to move\n */\nfunction _move(distance: number): void {\n    const [x1, y1, x2, y2] = [\n        _state.position.x,\n        _state.position.y,\n        _state.position.x + distance * Math.cos(degToRad(_state.heading)),\n        _state.position.y + distance * Math.sin(degToRad(_state.heading)),\n    ];\n\n    _state.position = { x: x2, y: y2 };\n\n    if (_state.drawing) {\n        sketch.drawLine(x1, y1, x2, y2);\n    }\n}\n\n/**\n * Helper function that turns the head of the sprite left (+ve angle) or right (-ve angle).\n * @param angle - delta angle\n */\nfunction _turn(angle: number): void {\n    _state.heading += angle;\n}\n\n// -- public functions -----------------------------------------------------------------------------\n\n/**\n * Sets up the sketch inside the DOM container.\n * @param container DOM container\n */\nexport function setup(container: HTMLElement): void {\n    sketch.setup(container);\n}\n\n/**\n * Resets the Painter.\n * @description dummy implementation for now.\n */\nexport function reset(): void {\n    _state.position = { ..._defaultStateValues.position };\n    _state.heading = _defaultStateValues.heading;\n    _state.drawing = _defaultStateValues.drawing;\n\n    sketch.clear();\n    updateBackgroundColor('unset');\n}\n\n/**\n * Triggers the execution of the project.\n * @description dummy implementation for now.\n */\nexport function run(): void {\n    // _sketch.setBackground(127);\n    // _sketch.setBackground(255, 255, 0);\n    // _sketch.setThickness(4);\n    // _sketch.setColor(255, 0, 0);\n    // setTimeout(() => moveForward(200), 0);\n    // setTimeout(() => turnRight(90), 500);\n    // setTimeout(() => moveBackward(400), 1000);\n    // setTimeout(() => turnleft(270), 1500);\n    // setTimeout(() => moveForward(200), 2000);\n}\n\n// -- public classes -------------------------------------------------------------------------------\n\nimport { ElementStatement, TData } from '@sugarlabs/musicblocks-v4-lib';\n\n/**\n * @class\n * Defines a `graphics` statement element that moves the sprite forward.\n */\nexport class ElementMoveForward extends ElementStatement {\n    constructor() {\n        super('move-forward', 'forward', { steps: ['number'] });\n    }\n\n    /**\n     * Moves the sprite `steps` forward.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        _move(params['steps'] as number);\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that moves the sprite backward.\n */\nexport class ElementMoveBackward extends ElementStatement {\n    constructor() {\n        super('move-backward', 'backward', { steps: ['number'] });\n    }\n\n    /**\n     * Moves the sprite `steps` backward.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        _move(-params['steps'] as number);\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that rotates the sprite to the right.\n */\nexport class ElementTurnRight extends ElementStatement {\n    constructor() {\n        super('turn-right', 'right', { angle: ['number'] });\n    }\n\n    /**\n     * Rotates the sprite right by `angle`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        _turn(-params['angle'] as number);\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that rotates the sprite to the left.\n */\nexport class ElementTurnLeft extends ElementStatement {\n    constructor() {\n        super('turn-left', 'left', { angle: ['number'] });\n    }\n\n    /**\n     * Rotates the sprite left by `angle`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        _turn(params['angle'] as number);\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that updates the sprite position to (x, y).\n */\nexport class ElementSetXY extends ElementStatement {\n    constructor() {\n        super('set-xy', 'set-xy', { x: ['number'], y: ['number'] });\n    }\n\n    /**\n     * Updates the sprite position to (`x`, `y`).\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        const [x1, y1, x2, y2] = [\n            _state.position.x,\n            _state.position.y,\n            -params['x'] as number,\n            params['y'] as number,\n        ];\n\n        _state.position = { x: x2, y: y2 };\n\n        if (_state.drawing) {\n            sketch.drawLine(x1, y1, x2, y2);\n        }\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that updates the sprite heading.\n */\nexport class ElementSetHeading extends ElementStatement {\n    constructor() {\n        super('set-heading', 'set-heading', { angle: ['number'] });\n    }\n\n    /**\n     * Sets the sprite heading to the `angle`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        _state.heading = (params['angle'] as number) + 90;\n    }\n}\n\n/**\n * @class\n * Defines a `graphics` statement element that moves the sprite along an arc.\n */\nexport class ElementDrawArc extends ElementStatement {\n    constructor() {\n        super('draw-arc', 'draw-arc', { radius: ['number'], angle: ['number'] });\n    }\n\n    /**\n     * Moves the sprite along arc with `radius` and `angle`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        const radius = params['radius'] as number;\n        const angle = params['angle'] as number;\n\n        const direction = Math.sign(angle);\n        const theta = direction === 1 ? _state.heading + angle - 90 : _state.heading + angle + 90;\n\n        const [xCentre, yCentre] = [\n            _state.position.x + radius * Math.cos(degToRad(_state.heading + direction * 90)),\n            _state.position.y + radius * Math.sin(degToRad(_state.heading + direction * 90)),\n        ];\n\n        if (_state.drawing) {\n            const [startAngle, stopAngle] =\n                direction === 1 ? [theta - angle, theta] : [theta, theta - angle];\n            sketch.drawArc(xCentre, yCentre, radius * 2, radius * 2, startAngle, stopAngle);\n        }\n\n        _state.heading += angle;\n        _state.position = {\n            x: xCentre + radius * Math.cos(degToRad(theta)),\n            y: yCentre + radius * Math.sin(degToRad(theta)),\n        };\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that sets the pen color.\n */\nexport class ElementSetColor extends ElementStatement {\n    constructor() {\n        super('set-color', 'set color', { value: ['number'] });\n    }\n\n    /**\n     * Sets the pen color to the `value`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        const value = ((params['value'] as number) - 1) % 10;\n        sketch.setColor(..._colorMap[value]);\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that sets the pen thickness.\n */\nexport class ElementSetThickness extends ElementStatement {\n    constructor() {\n        super('set-thickness', 'set-thickness', { value: ['number'] });\n    }\n\n    /**\n     * Sets the pen thickness to the `value`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        sketch.setThickness(params['value'] as number);\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that sets the pen thickness.\n */\nexport class ElementPenUp extends ElementStatement {\n    constructor() {\n        super('pen-up', 'pen-up', {});\n    }\n\n    /**\n     * Disables drawing while moving.\n     */\n    onVisit(): void {\n        _state.drawing = false;\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that sets the pen thickness.\n */\nexport class ElementPenDown extends ElementStatement {\n    constructor() {\n        super('pen-down', 'pen-down', {});\n    }\n\n    /**\n     * Enables drawing while moving.\n     */\n    onVisit(): void {\n        _state.drawing = true;\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that sets the background color.\n */\nexport class ElementSetBackground extends ElementStatement {\n    constructor() {\n        super('set-background', 'set-background', { value: ['number'] });\n    }\n\n    /**\n     * Sets the background color to the `value`.\n     */\n    onVisit(params: { [key: string]: TData }): void {\n        const value = ((params['value'] as number) - 1) % 10;\n        updateBackgroundColor('set', _colorMap[value]);\n    }\n}\n\n/**\n * @class\n * Defines a `pen` statement element that clears the canvas and the background.\n */\nexport class ElementClear extends ElementStatement {\n    constructor() {\n        super('clear', 'clear', {});\n    }\n\n    /**\n     * Clears the canvas and the background.\n     */\n    onVisit(): void {\n        sketch.clear();\n        updateBackgroundColor('unset');\n    }\n}\n"],"sourceRoot":""}