(this.webpackJsonpmusicblocks=this.webpackJsonpmusicblocks||[]).push([[2,3,8,9,11,24,25,29,30,31,32],{13:function(t,e,n){"use strict";n.r(e),n.d(e,"setup",(function(){return g})),n.d(e,"setCode",(function(){return w})),n.d(e,"setStatus",(function(){return x})),n.d(e,"setHelp",(function(){return S})),n.d(e,"resetStates",(function(){return E}));var r,c,u,i,o,a,s,f,l=n(18),d=n(1),b=n(3),p=n.n(b),j=n(30),m=n(31),O=n(20),v=(n(32),n(0));function h(){var t=Object(d.useRef)(null),e=Object(d.useRef)(null),n=Object(d.useRef)(null),b=Object(d.useRef)(null),p=Object(d.useRef)(null),h=Object(d.useRef)(null),g=Object(d.useState)(!1),w=Object(l.a)(g,2),x=w[0],S=w[1];return Object(d.useEffect)((function(){c=t.current,u=e.current,i=n.current,o=b.current,a=p.current,s=h.current,f(),r.addEventListener("resetstates",(function(){S(!1)})),[[j.default,u],[m.default,o],[O.default,a]].forEach((function(t){var e=Object(l.a)(t,2),n=e[0],r=e[1];fetch(n).then((function(t){return t.text()})).then((function(t){return r.innerHTML=t}))}))}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"editor-wrapper ".concat(x?"editor-wrapper-hidden":""),children:[Object(v.jsx)("textarea",{id:"editor-codebox",ref:t,onInput:function(){return i.innerHTML=""}}),Object(v.jsxs)("div",{id:"editor-console",children:[Object(v.jsx)("button",{id:"editor-btn-help",ref:e,onClick:function(){return S(!0)}}),Object(v.jsx)("div",{id:"editor-status-wrapper",children:Object(v.jsx)("p",{id:"editor-status",ref:n})}),Object(v.jsx)("button",{id:"editor-btn-build",ref:b,onClick:function(){return r.dispatchEvent(new CustomEvent("buildprogram",{detail:c.value}))}})]})]}),Object(v.jsxs)("div",{className:"editor-wrapper ".concat(x?"":"editor-wrapper-hidden"),children:[Object(v.jsx)("textarea",{id:"editor-help",ref:h,readOnly:!0}),Object(v.jsx)("button",{id:"editor-help-close",ref:p,onClick:function(){return S(!1)}})]})]})}function g(t){return new Promise((function(e){(r=t).id="editor",p.a.render(Object(v.jsx)(h,{}),t),f=function(){return requestAnimationFrame((function(){return e()}))}}))}function w(t){c.value=t}function x(t){i.innerHTML=t}function S(t){s.innerHTML=t}function E(){r.dispatchEvent(new Event("resetstates"))}},20:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/close.b6f9ced0.svg"},22:function(t,e,n){"use strict";n.r(e),n.d(e,"generateAPI",(function(){return o})),n.d(e,"buildProgram",(function(){return a})),n.d(e,"resetProgram",(function(){return s}));var r=n(49),c=n(18),u=n(21),i=n(29);function o(){var t=Object(u.getSpecificationSnapshot)(),e=[];return Object.entries(t).filter((function(t){var e=Object(c.a)(t,2),n=(e[0],e[1]);return"Statement"===n.type&&["Graphics","Pen"].includes(n.category)})).forEach((function(t){var n=Object(c.a)(t,2),r=n[0],u=(n[1],Object(i.addInstance)(r)),o=Object(i.getInstance)(u).instance,a=o.argLabels.map((function(t){return[t,o.getArgType(t).join("|")]}));Object(i.removeInstance)(u),e.push("".concat(r," ").concat(a.map((function(t){var e=Object(c.a)(t,2),n=e[0],r=e[1];return"".concat(n,":").concat(r)})).join(" ")))})),e.join("\n")}function a(t){return new Promise((function(e){if(!1===function(){var e,n=t.split("\n"),c=Object(r.a)(n);try{for(c.s();!(e=c.n()).done;){var u=e.value.split(" ");if(1!==u.length&&2!==u.length&&3!==u.length&&(4!==u.length||""!==u[0]||""!==u[1]))return!1}}catch(i){c.e(i)}finally{c.f()}return!0}())e(!1);else{var n=Object(u.generateSnapshot)();try{!function(){var e,n={process:[],routine:[],crumbs:[[]]},i=n.crumbs[0],o=function(t){var e=t[0],n={};t.slice(1).map((function(t){return t.split(":")})).forEach((function(t){var e=Object(c.a)(t,2),r=e[0],u=e[1];n[r]={elementName:"value-number",value:u}})),i.push({elementName:e,argMap:n})},a=Object(r.a)(t.split("\n"));try{for(a.s();!(e=a.n()).done;)o(e.value.split(" "))}catch(s){a.e(s)}finally{a.f()}Object(u.generateFromSnapshot)(n)}(),e(!0)}catch(i){console.log(i),Object(u.generateFromSnapshot)(n),e(!1)}}}))}function s(){Object(u.resetSyntaxTree)()}Object(u.registerElementSpecificationEntries)(u.librarySpecification)},25:function(t,e,n){"use strict";n.r(e),n.d(e,"setup",(function(){return d})),n.d(e,"setButtonImg",(function(){return b}));var r,c,u,i=n(18),o=n(23),a=n(24),s=n.n(a),f=n(33),l=n(20);n(34);function d(t){t.id="editor-toolbar-btn",r=t;var e=function(){var t=Object(o.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.text()}));case 2:return n=t.sent,t.abrupt("return",new Promise((function(t){t(n)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Promise.all([e(f.default),e(l.default)]).then((function(t){var e=Object(i.a)(t,2),n=e[0],r=e[1];c=n,u=r,b("code")}))}function b(t){r.innerHTML="code"===t?c:u}},30:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/help.70105245.svg"},31:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/build.8283c240.svg"},32:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/code.3211ece1.svg"},34:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e),n.d(e,"setup",(function(){return d})),n.d(e,"getElement",(function(){return b})),n.d(e,"setButtonState",(function(){return p}));var r,c,u=n(23),i=n(24),o=n.n(i),a=n(4),s=n(22),f=n(13),l=n(25);function d(){return new Promise((function(t){Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(t){r=document.createElement("div"),Object(f.setup)(r).then((function(){r.addEventListener("buildprogram",(function(t){Object(s.buildProgram)(t.detail).then((function(t){return Object(f.setStatus)(t?"Successfully Built":"Invalid Code")}))})),t()}))}));case 2:return e.next=4,new Promise((function(t){c=Object(a.a)({location:"toolbar",type:"button",position:"cluster-a"}),Object(l.setup)(c),requestAnimationFrame((function(){return t()}))}));case 4:t();case 5:case"end":return e.stop()}}),e)})))()}))}function b(t){return"button"===t?c:r}function p(t){Object(l.setButtonImg)("clicked"===t?"cross":"code")}n.d(e,"setCode",(function(){return f.setCode})),n.d(e,"setHelp",(function(){return f.setHelp})),n.d(e,"setStatus",(function(){return f.setStatus})),n.d(e,"resetStates",(function(){return f.resetStates}))},52:function(t,e,n){"use strict";n.r(e),n.d(e,"mount",(function(){return f})),n.d(e,"setup",(function(){return l}));var r=n(23),c=n(24),u=n.n(c),i=n(61),o=n(4),a=n(45),s=n(22);function f(){return new Promise((function(t){Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.setup)();case 2:t();case 3:case"end":return e.stop()}}),e)})))()}))}function l(){return new Promise((function(t){var e=Object(i.getComponent)("menu");e&&e.mountHook("reset",(function(){Object(a.setStatus)(""),Object(s.resetProgram)()})),Object(a.setCode)("set-thickness value:4\nset-color value:5\nrepeat times:6\n  move-forward steps:100\n  turn-right angle:60\nset-color value:9\nrepeat times:6\n  move-forward steps:100\n  turn-left angle:60"),Object(a.setCode)("set-thickness value:4\nset-color value:5\nmove-forward steps:100\nturn-right angle:60\nmove-forward steps:100\nturn-right angle:60\nmove-forward steps:100\nturn-right angle:60\nmove-forward steps:100\nturn-right angle:60"),Object(a.setHelp)(Object(s.generateAPI)());var n=Object(a.getElement)("button"),r="initial",c=function t(e){if("initial"===e)Object(o.c)(),Object(a.resetStates)();else{var n=Object(o.b)("Editor",e,{pin:function(){return t("pinned")},unpin:function(){return t("float")}}),c=Object(a.getElement)("editor");n.appendChild(c)}r=e};n.addEventListener("click",(function(){"initial"===r?(Object(a.setButtonState)("clicked"),c("float")):(Object(a.setButtonState)("unclicked"),c("initial"))})),t()}))}}}]);
//# sourceMappingURL=2.fe756d50.chunk.js.map